{"ast":null,"code":"// Performs astar's algorithm; returns *all* nodes in the order\n// in which they were visited. Also makes nodes point back to their\n// previous node, effectively allowing us to compute the shortest path\n// by backtracking from the finish node.\nimport { getAllNodes, sortNodesByDistance, getUnvisitedNeighbours } from \"./index\";\nexport function astar(grid, startNode, finishNode) {\n  const visitedNodesInOrder = [];\n  startNode.distance = 0;\n  const unvisitedNodes = getAllNodes(grid);\n\n  while (unvisitedNodes.length) {\n    sortNodesByDistance(unvisitedNodes);\n    const closestNode = unvisitedNodes.shift(); // If we encounter a wall, we skip it.\n\n    if (!closestNode.isWall) {\n      if (closestNode.distance === Infinity) return visitedNodesInOrder;\n      closestNode.isVisited = true;\n      visitedNodesInOrder.push(closestNode); // if the finsih node is reached then we return the visitedNodes array\n\n      if (closestNode === finishNode) return visitedNodesInOrder;\n      updateUnvisitedNeighbours(closestNode, grid);\n    }\n  }\n} // updates the neighbours,\n// in correspondance to the algorithm \n\nfunction updateUnvisitedNeighbours(node, grid) {\n  const unvisitedNeighbors = getUnvisitedNeighbours(node, grid);\n\n  for (const neighbor of unvisitedNeighbors) {\n    neighbor.distance = node.distance + 1 + neighbor.distanceToFinishNode;\n    neighbor.previousNode = node;\n  }\n}","map":{"version":3,"names":["getAllNodes","sortNodesByDistance","getUnvisitedNeighbours","astar","grid","startNode","finishNode","visitedNodesInOrder","distance","unvisitedNodes","length","closestNode","shift","isWall","Infinity","isVisited","push","updateUnvisitedNeighbours","node","unvisitedNeighbors","neighbor","distanceToFinishNode","previousNode"],"sources":["D:/maze-solver-main/src/algorithms/astar.js"],"sourcesContent":["// Performs astar's algorithm; returns *all* nodes in the order\n// in which they were visited. Also makes nodes point back to their\n// previous node, effectively allowing us to compute the shortest path\n// by backtracking from the finish node.\nimport { getAllNodes, sortNodesByDistance, getUnvisitedNeighbours } from \"./index\";\n\nexport function astar(grid, startNode, finishNode) {\n  const visitedNodesInOrder = [];\n  startNode.distance = 0;\n  const unvisitedNodes = getAllNodes(grid);\n  while (unvisitedNodes.length) {\n    sortNodesByDistance(unvisitedNodes);\n    const closestNode = unvisitedNodes.shift();\n    // If we encounter a wall, we skip it.\n    if (!closestNode.isWall) {\n      if (closestNode.distance === Infinity)\n        return visitedNodesInOrder;\n      \n      closestNode.isVisited = true;\n      visitedNodesInOrder.push(closestNode);\n      // if the finsih node is reached then we return the visitedNodes array\n      if (closestNode === finishNode)\n        return visitedNodesInOrder;\n      \n      updateUnvisitedNeighbours(closestNode, grid);\n    }\n  }\n}\n\n// updates the neighbours,\n// in correspondance to the algorithm \nfunction updateUnvisitedNeighbours(node, grid) {\n  const unvisitedNeighbors = getUnvisitedNeighbours(node, grid);\n  for (const neighbor of unvisitedNeighbors) {\n    neighbor.distance = node.distance + 1 + neighbor.distanceToFinishNode;\n    neighbor.previousNode = node;\n  }\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,WAAT,EAAsBC,mBAAtB,EAA2CC,sBAA3C,QAAyE,SAAzE;AAEA,OAAO,SAASC,KAAT,CAAeC,IAAf,EAAqBC,SAArB,EAAgCC,UAAhC,EAA4C;EACjD,MAAMC,mBAAmB,GAAG,EAA5B;EACAF,SAAS,CAACG,QAAV,GAAqB,CAArB;EACA,MAAMC,cAAc,GAAGT,WAAW,CAACI,IAAD,CAAlC;;EACA,OAAOK,cAAc,CAACC,MAAtB,EAA8B;IAC5BT,mBAAmB,CAACQ,cAAD,CAAnB;IACA,MAAME,WAAW,GAAGF,cAAc,CAACG,KAAf,EAApB,CAF4B,CAG5B;;IACA,IAAI,CAACD,WAAW,CAACE,MAAjB,EAAyB;MACvB,IAAIF,WAAW,CAACH,QAAZ,KAAyBM,QAA7B,EACE,OAAOP,mBAAP;MAEFI,WAAW,CAACI,SAAZ,GAAwB,IAAxB;MACAR,mBAAmB,CAACS,IAApB,CAAyBL,WAAzB,EALuB,CAMvB;;MACA,IAAIA,WAAW,KAAKL,UAApB,EACE,OAAOC,mBAAP;MAEFU,yBAAyB,CAACN,WAAD,EAAcP,IAAd,CAAzB;IACD;EACF;AACF,C,CAED;AACA;;AACA,SAASa,yBAAT,CAAmCC,IAAnC,EAAyCd,IAAzC,EAA+C;EAC7C,MAAMe,kBAAkB,GAAGjB,sBAAsB,CAACgB,IAAD,EAAOd,IAAP,CAAjD;;EACA,KAAK,MAAMgB,QAAX,IAAuBD,kBAAvB,EAA2C;IACzCC,QAAQ,CAACZ,QAAT,GAAoBU,IAAI,CAACV,QAAL,GAAgB,CAAhB,GAAoBY,QAAQ,CAACC,oBAAjD;IACAD,QAAQ,CAACE,YAAT,GAAwBJ,IAAxB;EACD;AACF"},"metadata":{},"sourceType":"module"}